<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>JavaScript var: Scope and Hoisting Demo (Interactive)</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f7f7f7;
            padding: 30px;
        }

        .example {
            background: #fff;
            border: 1px solid #ccc;
            margin-bottom: 24px;
            padding: 20px;
            border-radius: 7px;
        }

        button {
            padding: 8px 18px;
            font-size: 15px;
            cursor: pointer;
            background: #1976d2;
            color: white;
            border: none;
            border-radius: 4px;
            margin-top: 10px;
        }

        pre {
            background: #e3f2fd;
            padding: 6px;
            border-radius: 4px;
        }

        h2 {
            color: #1565c0;
        }
    </style>
</head>

<body>
    <h1>JavaScript <code>var</code>: Scope and Hoisting - Live Demos</h1>

    <div class="example">
        <h2>1. Function Scope Example</h2>
        <pre><code>
// 'var' is function-scoped, not block-scoped
function testFunctionScope() {
  if (true) {
    var x = 10;
  }
  console.log("x inside function:", x); // Outputs 10 (not limited to 'if' block)
}
testFunctionScope();
    </code></pre>
        <button onclick="(function() {
      function testFunctionScope() {
        if (true) {
          var x = 10;
        }
        console.log('x inside function:', x);
        alert('Check the console for: x inside function: 10');
      }
      testFunctionScope();
    })()">Run Example 1</button>
    </div>

    <div class="example">
        <h2>2. Hoisting Example</h2>
        <pre><code>
// 'var' declaration is hoisted. Initialization is NOT.
console.log('y out of f:', y);
function testHoisting() {
  console.log('y before declaration:', y); // undefined!
  var y = 5;
  console.log('y after initialization:', y); // 5
  alert('Check the console for y before/after declaration');
}
testHoisting();
    </code></pre>
        <button onclick="(function() {
      // console.log('y out of f:', y); //program would crash and scope is the function
      function testHoisting() {
        console.log('y before declaration:', y);
        var y = 5;
        console.log('y after initialization:', y);
        alert('Check the console: y before declaration is undefined, after is 5');
      }
      testHoisting();
    })()">Run Example 2</button>
    </div>

    <div class="example">
        <h2>3. Global Scope Leakage</h2>
        <pre><code>
// 'var' outside any function becomes GLOBAL
var globalVar = 'I am global!';
function showGlobalVar() {
  console.log('globalVar:', globalVar);
  alert('globalVar: ' + globalVar);
}
showGlobalVar();
    </code></pre>
        <button onclick="(function() {
      // We'll use a unique global to avoid polluting real global space
      window.demoGlobalVar = 'I am global!';
      function showGlobalVar() {
        console.log('globalVar:', window.demoGlobalVar);
        alert('globalVar: ' + window.demoGlobalVar);
      }
      showGlobalVar();
    })()">Run Example 3</button>
    </div>

    <div class="example">
        <h2>4. Why <code>let</code> is Safer (Block Scope)</h2>
        <pre><code>
// 'let' is block-scoped, 'var' is not!
function blockScopeExample() {
  if (true) {
    let z = 42;
    console.log('z inside block:', z);
  }
  try {
    console.log('z outside block:', z); // ReferenceError!
  } catch(e) {
    alert('Error: ' + e); // This line is hit!
  }
}
blockScopeExample();
    </code></pre>
        <button onclick="(function() {
      function blockScopeExample() {
        if (true) {
          let z = 42;
          console.log('z inside block:', z);
        }
        try {
          console.log('z outside block:', z);
        } catch(e) {
          alert('Error: ' + e);
        }
      }
      blockScopeExample();
    })()">Run Example 4</button>
    </div>

    <div style="color:#c62828;font-weight:bold;">Open your browser console to see all <code>console.log</code> results.
    </div>
</body>

</html>